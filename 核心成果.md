# 核心成果

> &emsp;&emsp;本文档是项目核心成果`GmToolBox`的介绍文档，关于其他附加成果，请参见`成果`文档。

## 项目介绍



&emsp;&emsp;按照选题要求，我们按照自己的理解完成了项目目标——在基于RISC-V的FreeRTOS平台上实现国密加密算法（SM3、SM4）。我们的成果是在基于RISC-V的FreeRTOS平台上构建的**国密算法工具库GmToolBox**。

&emsp;&emsp;项目以第三方库的形式给出，用户只要引用该库，就可以通过函数接口使用我们提供的基于SM3、SM4算法的多种方式的加密功能，包括对称加密的`CBC` `CTR` `GCM`等模式，以及针对流式数据场景而使用的`stream`流式散列优化等。

* 关于项目具体接口文档，请参见：[GmToolBox-Documentation](./GmToolBox-Documentation.pdf)(PDF版)，[GmToolBox-Documentation](./doc/GmToolBox-Documentation.md)(Markdown版)
* 关于**项目应用实现样例**描述文档，请参见：[Demo Description](./src/README.md)
* 关于项目应用视频，请见：[Demo1](./Demo1.mp4), [Demo2](./Demo2.mp4)

## 项目特性



&emsp;&emsp;与同类型的其他项目相比，我们在算法性能、接口丰富程度、文档完整性等方面均有优势，在适用场景方面也有自己的特点。

* 算法性能：本项目使用的SM3、SM4算法已经经过算法层面的流程优化，如合并SP盒等。另外，项目通过**循环展开**等优化手段，在原本模块化程度较高的算法基础上，优化了算法的执行效率。
* 接口丰富程度：**本项目支持SM3、SM4的多种加密/散列计算方式**，并支持以文件描述符形式进行流式输入。极大方便用户使用。另外，用户还可以调用底层函数接口，从而自由拓展出自定义加密方式。
* 文档完整性：**本项目的每一个用户API均提供API介绍、参数描述以及样例**。即使是未接触过密码学的用户，也能通过接口快速认识并使用我们的加密工具库。
* 适用场景：**本项目设计之初就以嵌入式边缘设备作为项目应用场景**。针对该应用场景的**存储空间小、CPU主频低**等特征，对算法进行针对性的优化和开发，保证在项目在嵌入式应用场景中的可靠性与高效率。



## 待改进部分



### 基于架构的优化

&emsp;&emsp;限于项目使用开发板的限制（K210指令集拓展为 `RV64IMAFDC`，未支持SIMD的P指令集），我们无法通过SIMD指令集实现基于架构特殊指令集的优化，从而不能使该算法拥有与其在X86-64平台上启用SSE3指令集优化后的运行效率。

&emsp;&emsp;如果硬件平台能够**支持RV64P指令集**，我们可以通过该指令集实现数据的“**并行计算**”，从而大大提升程序的运行效率。



### 更多的功能拓展

&emsp;&emsp;下一步迭代，我们可以在现有算法基本功能的基础上开发出更多的加密方式，以及针对不同使用要求进行优化。在不过分增大库体积的同时，提供更加丰富的场景和功能。